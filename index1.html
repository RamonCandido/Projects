<!DOCTYPE html>
<html lang="PT-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
</head>
<body>
    <div class="Cabecalho">
        <h1>To do List</h1>
        <div class="Corpo">
            <div class="Conteudo">
                <form>
                    <input type="text" name="task" id='task' placeholder="Adicione uma nova tarefa..."/>
                    <input type="button" name="botao" value="adiciona" onclick="adiciona();"/>
                </form>
            </div>
        </div>
        <div class="Corpo">
            <div class="Conteudo">
                <div class="ToDo">

                    <ul id="lista">
                        
                    </ul>

                </div>
            </div>

        </div>
    </div>
    
    <script type="text/javascript">
    var lista1 = document.getElementById("lista");
    var lista2;
    var item1;
    var item2;

    adiciona = function(){
        
            item2 = document.getElementById("task");
            item1 = lista1.childElementCount;
            lista2 = createItemEl(item2.value,item1);
            lista2.appendChild(createRemoveTaskBtn(item1)); 
            lista1.appendChild(lista2);
            item2.value = "";
    
    }

    removeTask = function(item1){

        for( i = 0 ; i < lista1.children.length ; i++){

            if(lista1.children[i].getAttribute("index1") == item1){

            lista1.children[i].remove();

            }
        }       

    }

    createItemEl = function(itemValue, item1){
        let lista2 = document.createElement("li");
        lista2.setAttribute("index1",item1);
        lista2.appendChild(document.createTextNode(itemValue));
        return lista2;
    }

    createRemoveTaskBtn = function(item1){
        let btn = document.createElement("button");
        btn.setAttribute("onclick", "removeTask("+item1+")");
        btn.innerHTML = "X";
        return btn;
    }
</script>
</body>

</html>